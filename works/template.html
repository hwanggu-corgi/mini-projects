<?php $slider_id = newSN('slider-', 14); ?>
<div id="<?= $slider_id ?>" class="sliderOahu content-style">
	<div class="sliderWrap">
		<items thumb="768x0" preview="1920x0">
			<div class="sliderItem">
				<div class="sliderImg" role="img" aria-label="{title}" style="background-image: url('{preview_url}')"></div>
				<div class="container">
					<div class="sliderInner">
						<h2 class="sliderTitle">{title}</h2>
						<div class="sliderDescription">{description}</div>
						<div class="slickDots">
							<button class="slick-prev-custom" aria-label="Previous">
								<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path d="M15,30,0,15,15,0" transform="translate(9 1)" fill="none" stroke-width="1" stroke="currentColor"></path></svg>
							</button>
							<div class="slickDotsWrap">
							</div>
							<button class="slick-next-custom" aria-label="Previous">
								<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><g transform="translate(-1351 -2914)"><path d="M2120.74,2581l-15,15,15,15" transform="translate(3479.74 5526) rotate(180)" fill="none" stroke-width="1" stroke="currentColor"></path></g></svg>
							</button>
						</div>
					</div>
				</div>
			</div>
		</items>
	</div>
	<div class="decorations">
		<div class="container">
			<div class="slickDots">
				<button class="slick-prev-custom" aria-label="Previous">
					<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path d="M15,30,0,15,15,0" transform="translate(9 1)" fill="none" stroke-width="1" stroke="currentColor"></path></svg>
				</button>
				<div class="slickDotsWrap">
				</div>
				<button class="slick-next-custom" aria-label="Previous">
					<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><g transform="translate(-1351 -2914)"><path d="M2120.74,2581l-15,15,15,15" transform="translate(3479.74 5526) rotate(180)" fill="none" stroke-width="1" stroke="currentColor"></path></g></svg>
				</button>
			</div>
			<div class="scrollDownAnimation">
				<span>Scroll to See</span>
			</div>
		</div>
	</div>
</div>



<script type="text/javascript">
	$(document).ready(function () {
		(function () {
			const sliderItems = document.querySelectorAll(".sliderOahu .sliderItem");

			if (sliderItems.length == 0) {
				return;
			}

			for (let sliderItem of sliderItems) {
				const candidates = sliderItem.querySelectorAll(".sliderDescription a");
				const sliderInner = sliderItem.querySelector(".sliderInner");
				
				for (let candidate of candidates) {
					const div = document.createElement("div");
					div.classList.add("sliderBtn");
					const p = document.createElement("p");
					const a = document.createElement("a");
					a.classList.add("medium")
					a.href = candidate.href;
					a.classList = candidate.classList;
					a.innerHTML = candidate.innerHTML;

					div.appendChild(p);
					p.appendChild(a);
					sliderInner.appendChild(div);
				}

				for (let candidate of candidates) {
					candidate.remove();
				}
			}
		})();

		(function () {
			let sliderNumber = 1;
			let totalSlides = $("#<?= $slider_id ?> .sliderItem").length;

			$("#<?= $slider_id ?> .sliderWrap").slick({
				prevArrow: $("#<?= $slider_id ?> .slick-prev-custom"),
				nextArrow:$("#<?= $slider_id ?> .slick-next-custom"),
				speed: 1000,
				autoplaySpeed: 6000,
				slidesToShow: 1,
				slidesToScroll: 1,
				fade: true,
				dots: true,
				arrows: true,
				autoplay: false,
				infinite: true,
				accessibility: false,
				easing: 'swing',
				appendDots: $("#<?= $slider_id ?> .slickDotsWrap")
			});
			
			// Init 
			let targetDot = $("#<?= $slider_id ?> .slickDots").each(function() {
				$(this).find("li").removeClass("slick-active-custom");
				let targetDot = $(this).find("li").get(0)
				$(targetDot).addClass("slick-active-custom");
			});

			$("#<?= $slider_id ?> .sliderWrap").on("beforeChange", function (event, slick, currentSlide, nextSlide){
				// get index of current slide
				let currentSlideIndex = currentSlide;
				// get index of next slide
				let newSlideIndex = nextSlide;
				
				// remove slick-active in all dots
				$("#<?= $slider_id ?> .slickDots li").each(function() {
					$(this).removeClass("slick-active");
				})

				// update slickDots (add slick-active to appropriate dot)
				let targetDot = $("#<?= $slider_id ?> .slickDots").each(function() {
					$(this).find("li").removeClass("slick-active-custom");
					let targetDot = $(this).find("li").get(newSlideIndex)
					$(targetDot).addClass("slick-active-custom");
				});
			});
		})();
	});
</script>