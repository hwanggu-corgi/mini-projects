<?php $postsList_id = newSN('postsList-', 16); ?>

<div id="<?= $postsList_id ?>" class="postsListMahube">
  <div class="buttonPrevWrap"></div>
	<div class="postsListWrap">
    <items>
      <article>
        <div class="postsItemWrap" style="background-image: url('{thumb_url}?resize=768x0')">
          <div class="postsItemOverlay"></div>
          <div class="postsItemBody">
            <h3 class="postsItemTitle">
              <a href="/{post_page}/{alias}" title="{title}">{title}</a>
            </h3>
            <p class="postsItemPreview">{preview_cut}</p>
            <a class="postsItemBtn" href="/{post_page}/{alias}" title="{title}">Learn More</a>
          </div>
        </div>
      </article>
    </items>
	</div>
  <div class="buttonNextWrap"></div>
</div>

<script type="text/javascript">
	$(document).ready(function () {
		(function () {
			$('#<?= $postsList_id ?> .postsListWrap').slick({
        prevArrow: '<button class="slick-prev" aria-label="Previous" type="button">' + SVG["arrow-left-1"] + '</button>',
				nextArrow: '<button class="slick-next" aria-label="Next" type="button">' + SVG["arrow-right-1"] + '</button>',
				dots: true,
				arrows: true,
				autoplay: true,
				infinite: true,
				slidesToShow: 3,
				slidesToScroll: 1,
        responsive: [
					{
						breakpoint: 991,
						settings: {
							slidesToShow: 2
						}
					},
					{
						breakpoint: 767,
						settings: {
							slidesToShow: 1,
              arrows: false,
						}
					}
				]
			});
		})();

    (function () {
			$("#<?= $postsList_id ?> .slick-prev").click(function() {
				const incomingActiveSlide = $("#<?= $postsList_id ?> article.slick-active").first()[0].previousElementSibling;
        const leavingActiveSlide = $("#<?= $postsList_id ?> article.slick-active").last()[0].nextElementSibling;

        incomingActiveSlide.style.visibility = "visible";
				leavingActiveSlide.style.visibility = "hidden";
      });
		})();
	});
</script>