(this["webpackJsonpchat-application"]=this["webpackJsonpchat-application"]||[]).push([[0],{82:function(n,e,t){},83:function(n,e,t){},96:function(n,e,t){"use strict";t.r(e);var a,r,c,o,i=t(30),s=t(2),l=t.n(s),d=t(71),b=t.n(d),u=(t(82),t(83),t(33)),j=t(12),p=t(5),m=t(6),O=t(14),h=t(19),g=t(46),x=t(47),f=t(3),v="#EEEEEE",F=m.a.div(a||(a=Object(p.a)(["\n    background-color: ",";\n    padding: 1em;\n    border-radius: 5em;\n    display:flex;\n    flex-grow: 1;\n"])),v),w=m.a.textarea(r||(r=Object(p.a)(["\n    border: none;\n    resize: none;\n    width: 100%;\n    background-color: ",";\n    text-decoration: none;\n    padding: 1em;\n    overflow-y: scroll;\n\n    &:focus {\n        outline: none;\n    }\n"])),v);function y(n){return Object(f.jsx)(F,{children:Object(f.jsx)(w,{value:n.value,onChange:n.onChange})})}var k=m.a.button(c||(c=Object(p.a)(["\n    border: none;\n    background-color: white;\n    font-size: 1.5em;\n    text-decoration: none;\n    color: ",";\n    padding: 0.5em;\n    margin: 0.5em;\n    cursor: pointer;\n\n    &:disabled {\n        opacity: 0.8;\n    }\n"])),"#FFA341");function C(n){return Object(f.jsx)(k,{onClick:n.onClick,disabled:n.disabled,children:Object(f.jsx)(g.a,{icon:x.a})})}var S,E,A=Object(O.gql)(o||(o=Object(p.a)(["\n    mutation PostMutation(\n        $texts: String!\n    ) {\n        post(texts: $texts) {\n            id\n            postedBy {\n            id,\n                username\n            }\n            texts\n        }\n    }\n"])));function z(n){var e=Object(s.useState)(""),t=Object(h.a)(e,2),a=t[0],r=t[1],c=Object(O.useMutation)(A,{variables:{texts:a},onCompleted:function(n){r("")},onError:function(n){alert("Error occured")}}),o=Object(h.a)(c,1)[0];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(y,{value:a,onChange:function(n){return r(n.target.value)}}),Object(f.jsx)(C,{onClick:o,disabled:!function(n){return!(!n||""===n.trim())}(a)})]})}var $,M,B;function P(n){var e=n.texts.split("\n").map((function(n){return Object(f.jsx)("p",{children:n})})),t=m.a.section(S||(S=Object(p.a)(["\n        margin: 0;\n        background-color: ",";\n        padding: 1em;\n        border-radius: 1.5em;\n        max-width: 12em;\n        font-size: 0.8em;\n        white-space: pre-wrap;\n    "])),"#FFA341"),a=m.a.header(E||(E=Object(p.a)(["\n        font-size: 0.7em;\n        padding: 0.5em 1em;\n    "])));return Object(f.jsxs)("article",{children:[Object(f.jsx)(a,{children:Object(f.jsx)("span",{children:n.postedBy.username})}),Object(f.jsx)(t,{children:e})]})}function I(n){return n.chats.map((function(n){return Object(f.jsx)(P,Object(i.a)({},n),n.id)}))}var D,L,q,J;function T(){var n=Object(s.useState)(!1),e=Object(h.a)(n,2),t=e[0],a=e[1],r=m.a.button($||($=Object(p.a)(["\n        background-color: transparent;\n        border: none;\n        padding: 0.5em;\n        cursor: pointer;\n    "]))),c=m.a.nav(M||(M=Object(p.a)(["\n        padding: 0.75em;\n        background-color: ",";\n    "])),"#FFA341"),o=m.a.div(B||(B=Object(p.a)(["\n        background-color: white;\n        width: 1.75em;\n        height: 0.12em;\n        margin-bottom: 0.4em;\n\n        &:last-child {\n            margin: 0;\n        }\n    "])));return Object(f.jsx)(c,{children:Object(f.jsxs)(r,{onClick:function(n){return a(!t)},children:[Object(f.jsx)(o,{}),Object(f.jsx)(o,{}),Object(f.jsx)(o,{})]})})}var U,H,N,Q,G;function K(n){var e=n.users.map((function(n){return Object(f.jsx)(R,Object(i.a)({},n),n.id)})),t=m.a.ul(D||(D=Object(p.a)(["\n        list-style: none;\n        padding: 0;\n        margin: 0;\n        height: calc(100vh - ",");\n        width: 15em;\n        box-shadow: 2px 0px ",";\n    "])),"3.30em","#EEEEEE");return Object(f.jsx)(t,{children:e})}function R(n){var e=m.a.div(L||(L=Object(p.a)(["\n        color: ",";\n        background-color: ",";\n        padding: 0.8em;\n        display: inline-block;\n        border-radius: 50%;\n        margin-right: 1em;\n\n        div {\n            width: 1.25em;\n            height: 1.25em;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n    "])),"#FFFFFF","#FFA341"),t=m.a.span(q||(q=Object(p.a)(["\n        font-size: 0.8em;\n    "]))),a=m.a.li(J||(J=Object(p.a)(["\n        display: flex;\n        align-items: center;\n        padding: 0.5em 1em;\n    "])));return Object(f.jsxs)(a,{children:[Object(f.jsx)(e,{children:Object(f.jsx)("div",{children:Object(f.jsx)(g.a,{icon:x.b})})}),Object(f.jsx)(t,{children:n.username})]})}var V=m.a.div(U||(U=Object(p.a)(["\n    display: flex;\n"]))),W=m.a.section(H||(H=Object(p.a)(["\n    height: calc(100vh - ",");\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n"])),"3.30em"),X=m.a.section(N||(N=Object(p.a)(["\n    flex-grow: 1;\n    overflow-y: scroll;\n    padding: 1em;\n"]))),Y=m.a.section(Q||(Q=Object(p.a)(["\n    display: flex;\n    padding: 1em;\n"]))),Z=Object(O.gql)(G||(G=Object(p.a)(["\n  {\n    users {\n      id,\n      username\n    },\n    chats {\n      id,\n      postedBy {\n        username\n      },\n      texts\n    }\n  }\n"])));var _,nn,en,tn,an,rn,cn,on,sn=function(){var n=Object(O.useQuery)(Z).data,e=n&&n.chats?n.chats:[],t=n&&n.users?n.users:[];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(T,{}),Object(f.jsxs)(V,{children:[Object(f.jsx)(K,{users:t}),Object(f.jsxs)(W,{children:[Object(f.jsx)(X,{children:Object(f.jsx)(I,{chats:e})}),Object(f.jsx)(Y,{children:Object(f.jsx)(z,{})})]})]})]})},ln="12345",dn="#FFFFFF",bn=m.a.section(_||(_=Object(p.a)(["\n  width: 100vw;\n  height: 100vh;\n  background-color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])),"#FFA341"),un=m.a.div(nn||(nn=Object(p.a)(["\n  color: ",";\n  width: 15em;\n  display: flex;\n  flex-direction: column;\n"])),dn),jn=m.a.h1(en||(en=Object(p.a)(["\n  text-align: center;\n"]))),pn=m.a.form(tn||(tn=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n\n  & > * {\n    display: block;\n  }\n\n  & > * {\n    margin-bottom: 0.5em;\n  }\n\n  & > input:last-of-type {\n    margin-bottom: 1.5em;\n  }\n\n  & > *:last-child {\n    margin: 0;\n  }\n"]))),mn=m.a.input(an||(an=Object(p.a)(["\n  padding: 1em;\n  border: none;\n  background-color: white;\n  border-radius: 5em;\n  text-align: center;\n\n  &:placeholder {\n      text-align: center;\n  }\n"]))),On=m.a.button(rn||(rn=Object(p.a)(["\n  padding: 1em;\n  border: none;\n  border-radius: 5em;\n  text-align: center;\n  cursor: pointer;\n  background-color: ",";\n  color: ",";\n  font-size: 0.8em;\n"])),"#9A4D31",dn),hn=Object(m.a)(u.b)(cn||(cn=Object(p.a)(["\n  padding: 1em;\n  border: none;\n  border-radius: 5em;\n  text-align: center;\n  cursor: pointer;\n  background-color: ",";\n  font-size: 0.8em;\n  text-decoration: none;\n  color: black;\n"])),"#FFE24F"),gn=Object(O.gql)(on||(on=Object(p.a)(["\n  mutation LoginMutation(\n    $username: String!\n    $password: String!\n  ) {\n    login(\n      username: $username\n      password: $password\n    ) {\n      token\n      user {\n        username\n      }\n    }\n  }\n"])));var xn,fn,vn,Fn,wn,yn,kn,Cn,Sn=function(){var n=Object(j.f)(),e=Object(s.useState)(""),t=Object(h.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(""),o=Object(h.a)(c,2),i=o[0],l=o[1],d=Object(O.useMutation)(gn,{variables:{username:a,password:i},onCompleted:function(e){var t=e.login;localStorage.setItem(ln,t.token),n.push("/chat")}}),b=Object(h.a)(d,1)[0];return Object(f.jsx)(bn,{children:Object(f.jsxs)(un,{children:[Object(f.jsx)(jn,{children:"Chat Application"}),Object(f.jsxs)(pn,{children:[Object(f.jsx)(mn,{type:"text",placeholder:"Username",value:a,onChange:function(n){return r(n.target.value)}}),Object(f.jsx)(mn,{type:"password",placeholder:"Password",value:i,onChange:function(n){return l(n.target.value)}}),Object(f.jsx)(On,{type:"submit",onClick:function(n){n.preventDefault(),b()},disabled:!function(n,e){return!(!n||!e)&&(""!==n.trim()&&""!==e.trim())}(a,i),children:"Login"}),Object(f.jsx)(hn,{to:"/signup",children:"Signup"})]})]})})},En="#FFFFFF",An=m.a.section(xn||(xn=Object(p.a)(["\n  width: 100vw;\n  height: 100vh;\n  background-color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])),"#FFA341"),zn=m.a.div(fn||(fn=Object(p.a)(["\n  color: ",";\n  width: 15em;\n  display: flex;\n  flex-direction: column;\n"])),En),$n=m.a.h1(vn||(vn=Object(p.a)(["\n  text-align: center;\n"]))),Mn=m.a.form(Fn||(Fn=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n\n  & > * {\n    display: block;\n  }\n\n  & > * {\n    margin-bottom: 0.5em;\n  }\n\n  & > input:last-of-type {\n    margin-bottom: 1.5em;\n  }\n\n  & > *:last-child {\n    margin: 0;\n  }\n"]))),Bn=m.a.input(wn||(wn=Object(p.a)(["\n  padding: 1em;\n  border: none;\n  background-color: white;\n  border-radius: 5em;\n  text-align: center;\n\n  &:placeholder {\n      text-align: center;\n  }\n"]))),Pn=m.a.button(yn||(yn=Object(p.a)(["\n  padding: 1em;\n  border: none;\n  border-radius: 5em;\n  text-align: center;\n  cursor: pointer;\n  background-color: ",";\n  color: ",";\n  font-size: 0.8em;\n\n  &:disabled,\n  &[disabled]{\n    opacity: 0.6;\n  }\n"])),"#9A4D31",En),In=Object(m.a)(u.b)(kn||(kn=Object(p.a)(["\n  padding: 1em;\n  border: none;\n  border-radius: 5em;\n  text-align: center;\n  cursor: pointer;\n  background-color: ",";\n  font-size: 0.8em;\n  text-decoration: none;\n  color: black;\n"])),"#FFE24F"),Dn=Object(O.gql)(Cn||(Cn=Object(p.a)(["\n  mutation SignupMutation(\n    $username: String!\n    $password: String!\n  ) {\n    signup(\n      username: $username\n      password: $password\n    ) {\n      token\n      user {\n        username\n      }\n    }\n  }\n"])));var Ln=function(n){var e=Object(j.f)(),t=Object(s.useState)(""),a=Object(h.a)(t,2),r=a[0],c=a[1],o=Object(s.useState)(""),i=Object(h.a)(o,2),l=i[0],d=i[1],b=Object(s.useState)(""),u=Object(h.a)(b,2),p=u[0],m=u[1],g=Object(O.useMutation)(Dn,{variables:{username:r,password:l},onCompleted:function(n){var t=n.signup;localStorage.setItem(ln,t.token),e.push("/chat")}}),x=Object(h.a)(g,1)[0];return Object(f.jsx)(An,{children:Object(f.jsxs)(zn,{children:[Object(f.jsx)($n,{children:"Chat Application"}),Object(f.jsxs)(Mn,{children:[Object(f.jsx)(Bn,{type:"text",placeholder:"Username",value:r,onChange:function(n){return c(n.target.value)}}),Object(f.jsx)(Bn,{type:"password",placeholder:"Password",value:l,onChange:function(n){return d(n.target.value)}}),Object(f.jsx)(Bn,{type:"password",placeholder:"Password Confirm",value:p,onChange:function(n){return m(n.target.value)}}),Object(f.jsx)(Pn,{type:"submit",onClick:function(n){n.preventDefault(),x()},disabled:!function(n,e,t){return!!(n&&e&&t)&&(""!==n.trim()&&(""!==e.trim()&&(""!==t.trim()&&e.value===t.value)))}(r,l,p),children:"Signup"}),Object(f.jsx)(In,{to:"/",children:"Back"})]})]})})};var qn=function(){return Object(f.jsx)(u.a,{children:Object(f.jsx)("main",{className:"App",children:Object(f.jsxs)(j.c,{children:[Object(f.jsx)(j.a,{path:"/chat",component:sn}),Object(f.jsx)(j.a,{exact:!0,path:"/signup",component:Ln}),Object(f.jsx)(j.a,{exact:!0,path:"/",component:Sn})]})})})},Jn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,97)).then((function(e){var t=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,o=e.getTTFB;t(n),a(n),r(n),c(n),o(n)}))},Tn=t(77),Un=Object(O.createHttpLink)({uri:"https://chat-application-hyungmogu.herokuapp.com/"}),Hn=Object(Tn.a)((function(n,e){var t=e.headers,a=localStorage.getItem(ln);return{headers:Object(i.a)(Object(i.a)({},t),{},{authorization:a?"Bearer ".concat(a):""})}})),Nn=new O.ApolloClient({link:Hn.concat(Un),cache:new O.InMemoryCache});b.a.render(Object(f.jsx)(l.a.StrictMode,{children:Object(f.jsx)(O.ApolloProvider,{client:Nn,children:Object(f.jsx)(qn,{})})}),document.getElementById("root")),Jn()}},[[96,1,2]]]);
//# sourceMappingURL=main.677d62ae.chunk.js.map